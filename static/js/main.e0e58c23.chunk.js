(window.webpackJsonpbooking=window.webpackJsonpbooking||[]).push([[0],{137:function(e,a,t){e.exports={loader:"App_loader__Dop8H"}},142:function(e,a,t){e.exports=t.p+"static/media/logo_white.2540fc08.svg"},143:function(e,a,t){e.exports=t.p+"static/media/facebook-square-brands.7df7570f.svg"},144:function(e,a,t){e.exports=t.p+"static/media/instagram-brands.cc5e92b0.svg"},145:function(e,a,t){e.exports=t.p+"static/media/phone-alt-solid.6dbf65e5.svg"},146:function(e,a,t){e.exports=t.p+"static/media/envelope-solid.a1b1533c.svg"},147:function(e,a,t){e.exports=t.p+"static/media/home-solid.1600889c.svg"},148:function(e,a,t){e.exports=t.p+"static/media/logo_block.d4ac2160.svg"},149:function(e,a,t){e.exports=t.p+"static/media/wifi.7e9c444b.svg"},150:function(e,a,t){e.exports=t.p+"static/media/phone.16543ec9.svg"},151:function(e,a,t){e.exports=t.p+"static/media/mountain-range.ad2b689a.svg"},152:function(e,a,t){e.exports=t.p+"static/media/breakfast.c4c2c972.svg"},153:function(e,a,t){e.exports=t.p+"static/media/bar.92950803.svg"},154:function(e,a,t){e.exports=t.p+"static/media/dog.6a06afa1.svg"},155:function(e,a,t){e.exports=t.p+"static/media/no-smoke-symbol.74436c49.svg"},156:function(e,a,t){e.exports=t.p+"static/media/room_service.ef31df00.svg"},157:function(e,a,t){e.exports=t.p+"static/media/crawling-baby-silhouette.c76c9ad5.svg"},158:function(e,a,t){e.exports=t.p+"static/media/breeze.410d1c42.svg"},159:function(e,a,t){e.exports=t.p+"static/media/fridge.a08b40e0.svg"},16:function(e,a,t){e.exports={swiper:"Home_swiper__2Dj9n",bg:"Home_bg__2uh8T",main:"Home_main__255Yt",logo:"Home_logo__F7qJ3",icon:"Home_icon__1Dp7e",icon_small:"Home_icon_small__2WWXn",info:"Home_info__1ETDh",social:"Home_social__2--Je",contact:"Home_contact__1oTlt",contact_item:"Home_contact_item__DluNS",card_container:"Home_card_container__28-un"}},160:function(e,a,t){e.exports=t.p+"static/media/sofa.6228e404.svg"},161:function(e,a,t){e.exports={root:"Calendar_root__2wQQL"}},162:function(e,a,t){e.exports={root:"DatePicker_root__2SXKd"}},163:function(e,a,t){e.exports=t.p+"static/media/tick-inside-circle.5e18caa0.svg"},171:function(e,a,t){e.exports=t(281)},205:function(e,a,t){},281:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(13),o=t.n(r),i=t(19),l=(t(176),t(201),t(202),t(203),t(204),t(205),t(12)),s=t(137),m=t.n(s),u=t(138),d=t.n(u),_=t(39),p=t(35),E=t(16),f=t.n(E),g=t(141),v=t.n(g),b=t(142),h=t.n(b),N=t(143),O=t.n(N),y=t(144),j=t.n(y),k=t(145),S=t.n(k),w=t(146),D=t.n(w),x=t(147),R=t.n(x),C=t(30),T=t.n(C);var P=function(e){var a=e.item;return c.a.createElement("div",{className:T.a.root},c.a.createElement(_.Link,{to:"room/".concat(a.id)},c.a.createElement("div",{className:T.a.img,style:{backgroundImage:"url('".concat(a.imageUrl,"')")}}),c.a.createElement("div",{className:T.a.info},c.a.createElement("div",null,c.a.createElement("span",{className:T.a.name},a.name)),c.a.createElement("div",{className:T.a.price},c.a.createElement("span",{className:T.a.normal_price},"NT.",a.normalDayPrice,c.a.createElement("span",{className:T.a.tag},"\u5e73\u65e5")),c.a.createElement("span",{className:T.a.holiday_price},"NT.",a.holidayPrice,c.a.createElement("span",{className:T.a.tag},"\u5047\u65e5"))))))};var I=function(){var e=Object(i.c)(function(e){return e.rooms});return c.a.createElement("div",null,c.a.createElement("div",{className:f.a.swiper},c.a.createElement(v.a,{infinite:!0,fade:!0,autoplay:!0,swipe:!1,touchMove:!1,speed:1e3},e.map(function(e,a){return c.a.createElement("div",null,c.a.createElement("div",{key:a,className:f.a.bg,style:{backgroundImage:"url('".concat(e.imageUrl,"')")}}))}))),c.a.createElement("div",{className:f.a.main},c.a.createElement("img",{className:f.a.logo,src:h.a,alt:""}),c.a.createElement("div",{className:f.a.info},c.a.createElement("div",{className:f.a.social},c.a.createElement("img",{className:f.a.icon,src:O.a,alt:""}),c.a.createElement("img",{className:f.a.icon,src:j.a,alt:""})),c.a.createElement("div",{className:f.a.contact},c.a.createElement("div",{className:f.a.contact_item},c.a.createElement("img",{className:f.a.icon_small,src:S.a,alt:""}),c.a.createElement("span",null,"02-17264937")),c.a.createElement("div",{className:f.a.contact_item},c.a.createElement("img",{className:f.a.icon_small,src:D.a,alt:""}),c.a.createElement("span",null,"whitespace@whitespace.com.tw")),c.a.createElement("div",{className:f.a.contact_item},c.a.createElement("img",{className:f.a.icon_small,src:R.a,alt:""}),c.a.createElement("span",null,"\u53f0\u5317\u5e02\u7f85\u65af\u798f\u8def\u5341\u6bb530\u865f"))))),c.a.createElement("div",{className:f.a.card_container},e.map(function(e,a){return c.a.createElement(P,{key:e.id,item:e})})))},H=t(4),M=t.n(H),B={"Content-Type":"application/json",Authorization:"Bearer ".concat("43Fk2Il0wtVWhSGYelCYM2oPDTJH2A75jvySBg9wqTBGTQ56jxULYUUT1hjc")},U="https://challenge.thef2e.com/api/thef2e2019/stage6",F=function(){return fetch("".concat(U,"/rooms"),{headers:B}).then(function(e){return e.json()})},G=function(e){return fetch("".concat(U,"/room/").concat(e),{headers:B}).then(function(e){return e.json()})},A=function(e,a,t,n,c){for(var r=[],o=c.diff(n,"days")+1,i=0;i<o;i++)r.push(M()(n).add(i,"days").format("Y-MM-DD"));var l={name:a,tel:t,date:r};return fetch("".concat(U,"/room/").concat(e),{method:"POST",headers:B,body:JSON.stringify(l)}).then(function(e){return e.json()})},W=function(){return fetch("".concat(U,"/rooms"),{method:"DELETE",headers:B}).then(function(e){return e.json()})},J=function(e){return{type:"SET_ROOMS",payload:{rooms:e}}},L=function(e){return{type:"SET_ROOM",payload:{room:e}}},X=function(e){return{type:"SET_BOOKING",payload:{booking:e}}},Y=t(11),q=t(10),K=t.n(q),V=t(148),Q=t.n(V),z=t(49),Z=t.n(z);var $=function(e){var a=e.imageUrl;return c.a.createElement("div",{className:Z.a.root},c.a.createElement("div",{className:Z.a.left,style:{backgroundImage:"url('".concat(a[0],"')")}}),c.a.createElement("div",{className:Z.a.right_wrapper},c.a.createElement("div",{className:Z.a.right,style:{backgroundImage:"url('".concat(a[1],"')")}}),c.a.createElement("div",{className:Z.a.right,style:{backgroundImage:"url('".concat(a[2],"')")}})))},ee=t(5),ae=t.n(ee),te=t(149),ne=t.n(te),ce=t(150),re=t.n(ce),oe=t(151),ie=t.n(oe),le=t(152),se=t.n(le),me=t(153),ue=t.n(me),de=t(154),_e=t.n(de),pe=t(155),Ee=t.n(pe),fe=t(156),ge=t.n(fe),ve=t(157),be=t.n(ve),he=t(158),Ne=t.n(he),Oe=t(159),ye=t.n(Oe),je=t(160),ke=t.n(je),Se=t(65),we=t(161),De=t.n(we);var xe=function(){var e=Object(n.useState)(null),a=Object(l.a)(e,1)[0],t=Object(i.c)(function(e){return e.booking});return c.a.createElement("div",{className:De.a.root},c.a.createElement(Se.SingleDatePicker,{numberOfMonths:1,verticalSpacing:0,date:a,focused:!0,onFocusChange:function(){},isDayHighlighted:function(e){var a=!1;return t.forEach(function(t){e.isSame(t.date,"day")&&(a=!0)}),a},isOutsideRange:function(e){return e.diff(M()().startOf("day"),"days")<1},noBorder:!0}))},Re=t(292),Ce=t(7),Te=t.n(Ce),Pe=t(162),Ie=t.n(Pe);var He=function(e){var a=e.date,t=e.setDate,r=Object(n.useState)(null),o=Object(l.a)(r,2),s=o[0],m=o[1],u=Object(i.c)(function(e){return e.booking});return c.a.createElement("div",{className:Ie.a.root},c.a.createElement(Se.SingleDatePicker,{initialDate:M()().add(1,"days"),numberOfMonths:1,verticalSpacing:0,date:a,focused:s,onDateChange:function(e){return t(e)},onFocusChange:function(e){var a=e.focused;return m(a)},isDayHighlighted:function(e){var a=!1;return u.forEach(function(t){e.isSame(t.date,"day")&&(a=!0)}),a},isOutsideRange:function(e){return e.diff(M()().startOf("day"),"days")<1},noBorder:!0}))},Me=t(163),Be=t.n(Me);var Ue=function(e){var a=e.open,t=e.onClose,r=Object(n.useState)(""),o=Object(l.a)(r,2),s=o[0],m=o[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),_=d[0],p=d[1],E=Object(n.useState)(null),f=Object(l.a)(E,2),g=f[0],v=f[1],b=Object(n.useState)(null),h=Object(l.a)(b,2),N=h[0],O=h[1],y=Object(n.useState)(null),j=Object(l.a)(y,2),k=j[0],S=j[1],w=Object(i.c)(function(e){return{id:e.room.id,normalDayPrice:e.room.normalDayPrice,holidayPrice:e.room.holidayPrice}}),D=w.id,x=w.normalDayPrice,R=w.holidayPrice,C=0,T=0;if(N&&g){var P=N.diff(g,"days")+1;if(P>0){for(var I=0;I<P;I++){var H=M()(g).add(I,"days").isoWeekday();6!==H&&7!==H||(T+=1)}C=P-T}}var B=C*x+T*R;return c.a.createElement(Re.a,{open:a,onClose:t},c.a.createElement("div",{className:Te.a.root},!k&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:Te.a.title},"\u9810\u7d04\u6642\u6bb5"),c.a.createElement("div",{className:Te.a.form},c.a.createElement("div",{className:Te.a.input},c.a.createElement("label",null,"\u59d3\u540d"),c.a.createElement("input",{type:"text",value:s,onChange:function(e){return m(e.target.value)}})),c.a.createElement("div",{className:Te.a.input},c.a.createElement("label",null,"\u96fb\u8a71"),c.a.createElement("input",{type:"text",value:_,onChange:function(e){return p(e.target.value)}})),c.a.createElement("div",{className:Te.a.input},c.a.createElement("label",null,"\u9810\u7d04\u8d77\u8a16"),c.a.createElement(He,{date:g,setDate:v}),"\xa0\xa0~\xa0\xa0",c.a.createElement(He,{date:N,setDate:O}))),c.a.createElement("div",{className:Te.a.detail},c.a.createElement("div",{className:Te.a.detail_row},c.a.createElement("span",null,"\u5e73\u65e5\u6642\u6bb5"),c.a.createElement("span",null,C,"\u591c")),c.a.createElement("div",{className:Te.a.detail_row},c.a.createElement("span",null,"\u5047\u65e5\u6642\u6bb5"),c.a.createElement("span",null,T,"\u591c"))),c.a.createElement("div",{className:Te.a.total},c.a.createElement("span",null,"=\xa0\xa0\xa0NT.",B)),c.a.createElement("div",{className:Te.a.action},c.a.createElement("button",{className:Te.a.button,onClick:t},"\u53d6\u6d88"),c.a.createElement("button",{className:K()(Te.a.button,Te.a.active),onClick:function(){if(!B||""===s||""===_)return!1;A(D,s,_,g,N).then(function(e){S(e.success?"success":"failure")})}},"\u78ba\u5b9a\u9810\u7d04"))),"success"===k&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:Te.a.title},"\u9810\u7d04\u6210\u529f"),c.a.createElement("div",{className:Te.a.form,style:{textAlign:"center"}},c.a.createElement("img",{className:Te.a.success,src:Be.a,alt:"success"})),c.a.createElement("div",{className:Te.a.action_one},c.a.createElement("button",{className:Te.a.button,onClick:t},"\u56de\u9801\u9762"))),"failure"===k&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:Te.a.title},"\u9810\u7d04\u6210\u529f"),c.a.createElement("div",{className:Te.a.form},c.a.createElement("span",null,"\u9810\u7d04\u6642\u9593\u5df2\u88ab\u4eba\u9810\u8a02")),c.a.createElement("div",{className:Te.a.action_one},c.a.createElement("button",{className:Te.a.button,onClick:function(){return S(null)}},"\u8fd4\u56de")))))},Fe=t(291);var Ge=function(e){var a=e.match.params.id,t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],s=r[1],m=Object(n.useState)(!1),u=Object(l.a)(m,2),d=u[0],p=u[1],E=Object(i.c)(function(e){return{room:e.room}}).room,f=Object(i.b)();return Object(n.useEffect)(function(){G(a).then(function(e){f(L(e.room[0])),f(X(e.booking)),s(!0)})},[f,a]),c.a.createElement("div",{className:ae.a.root},!o&&c.a.createElement("div",{className:ae.a.loader},c.a.createElement(Fe.a,null)),o&&c.a.createElement("div",{className:ae.a.container},c.a.createElement(_.Link,{to:"/"},c.a.createElement("img",{className:ae.a.logo,src:Q.a,alt:"logo"})),c.a.createElement($,{imageUrl:E.imageUrl}),c.a.createElement("div",{className:ae.a.content},c.a.createElement("div",{className:ae.a.content_short},c.a.createElement("span",{className:ae.a.title},E.name),c.a.createElement("span",{className:ae.a.header},"\u623f\u5ba2\u4eba\u6578\u9650\u5236\uff1a",E.descriptionShort.GuestMin,"~",E.descriptionShort.GuestMax,"\u4eba"),c.a.createElement("span",{className:ae.a.header},"\u5e8a\u578b\uff1a",E.descriptionShort.Bed.join(", ")),c.a.createElement("span",{className:ae.a.header},"\u885b\u6d74\u6578\u91cf\uff1a",E.descriptionShort["Private-Bath"],"\u9593"),c.a.createElement("span",{className:ae.a.header},"\u623f\u9593\u5927\u5c0f\uff1a",E.descriptionShort.Footage,"\u5e73\u65b9\u516c\u5c3a"),c.a.createElement("span",{className:ae.a.description},E.description),c.a.createElement("div",{className:ae.a.check},c.a.createElement("div",{className:ae.a.check_detail},c.a.createElement("span",null,"Check In"),c.a.createElement("span",null,E.checkInAndOut.checkInEarly," -"," ",E.checkInAndOut.checkInLate)),c.a.createElement("div",{className:ae.a.check_detail},c.a.createElement("span",null,"Check Out"),c.a.createElement("span",null,E.checkInAndOut.checkOut))),c.a.createElement("div",{className:ae.a.grid},c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities["Wi-Fi"]))},c.a.createElement("img",{src:ne.a,alt:"wifi"}),"Wi-Fi"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities.Television))},c.a.createElement("img",{src:re.a,alt:"phone"}),"\u96fb\u8a71"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities["Great-View"]))},c.a.createElement("img",{src:ie.a,alt:"mountain"}),"\u6f02\u4eae\u7684\u8996\u91ce"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities.Breakfast))},c.a.createElement("img",{src:se.a,alt:"breakfast"}),"\u65e9\u9910"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities["Air-Conditioner"]))},c.a.createElement("img",{src:Ne.a,alt:"ac"}),"\u7a7a\u8abf"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities["Smoke-Free"]))},c.a.createElement("img",{src:Ee.a,alt:"smoke"}),"\u7981\u6b62\u5438\u7159"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities["Mini-Bar"]))},c.a.createElement("img",{src:ue.a,alt:"bar"}),"Mini Bar"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities.Refrigerator))},c.a.createElement("img",{src:ye.a,alt:"fridge"}),"\u51b0\u7bb1"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities["Child-Friendly"]))},c.a.createElement("img",{src:be.a,alt:"baby"}),"\u9069\u5408\u5152\u7ae5"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities["Room-Service"]))},c.a.createElement("img",{src:ge.a,alt:"service"}),"Room Service"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities.Sofa))},c.a.createElement("img",{src:ke.a,alt:"sofa"}),"\u6c99\u767c"),c.a.createElement("span",{className:K()(Object(Y.a)({},ae.a.active,E.amenities["Pet-Friendly"]))},c.a.createElement("img",{src:_e.a,alt:"dog"}),"\u5bf5\u7269\u651c\u5e36"))),c.a.createElement("div",{className:ae.a.price},c.a.createElement("span",{className:K()(ae.a.title,ae.a.tag)},"NT.",E.normalDayPrice),c.a.createElement("span",null,"\u5e73\u65e5(\u4e00\uff5e\u56db)"),c.a.createElement("span",{className:ae.a.tag},"NT.",E.holidayPrice),c.a.createElement("span",null,"\u5047\u65e5(\u4e94\uff5e\u65e5)")),c.a.createElement("div",{className:ae.a.calendar},c.a.createElement(xe,null),c.a.createElement("div",{className:ae.a.button_container},c.a.createElement("button",{className:ae.a.button,onClick:function(){return p(!0)}},"\u9810\u7d04\u6642\u6bb5"),c.a.createElement("button",{className:ae.a.button,onClick:function(){W().then(function(){window.location.reload()})}},"\u6e2c\u8a66\u6e05\u9664\u9810\u7d04")))),c.a.createElement(Ue,{open:d,onClose:function(){return p(!1)}})))};var Ae=function(){var e=Object(i.b)(),a=Object(n.useState)(!1),t=Object(l.a)(a,2),r=t[0],o=t[1];return Object(n.useEffect)(function(){F().then(function(a){e(J(a.items)),o(!0)})},[e]),c.a.createElement("div",null,!r&&c.a.createElement("div",{className:m.a.loader},c.a.createElement(Fe.a,null)),r&&c.a.createElement(_.HashRouter,null,c.a.createElement(d.a,{id:"UA-142485991-1",debug:!0},c.a.createElement(p.d,{path:"/",exact:!0,component:I}),c.a.createElement(p.d,{path:"/room/:id",exact:!0,component:Ge}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var We=t(166);function Je(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Le(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Je(t,!0).forEach(function(a){Object(Y.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Je(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var Xe={rooms:[],room:{},booking:[]},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ROOMS":return Le({},e,{rooms:a.payload.rooms});case"SET_ROOM":return Le({},e,{room:a.payload.room});case"SET_BOOKING":return Le({},e,{booking:a.payload.booking});default:return e}},qe=Object(We.a)(Ye,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(c.a.createElement(i.a.Provider,{value:qe},c.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},30:function(e,a,t){e.exports={root:"Card_root__3Nc9M",info:"Card_info__1f_cq",price:"Card_price__1DVSA",img:"Card_img__3jbA_",name:"Card_name__3YKZR",normal_price:"Card_normal_price__1Iw-g",holiday_price:"Card_holiday_price__3S-HA",tag:"Card_tag__23SDR"}},49:function(e,a,t){e.exports={root:"Gallery_root__16n8_",left:"Gallery_left__2TUjt",right_wrapper:"Gallery_right_wrapper__1q4ct",right:"Gallery_right__2nVGl"}},5:function(e,a,t){e.exports={root:"Room_root__33rIq",loader:"Room_loader__39SW9",container:"Room_container__38ayr",logo:"Room_logo__uCdb7",content:"Room_content__yxSt5",content_short:"Room_content_short__3RCl6",header:"Room_header__H4taQ",title:"Room_title__1H5sm",description:"Room_description__2GhoF",check:"Room_check__2WEfr",check_detail:"Room_check_detail__2QhpP",grid:"Room_grid__3ErJy",active:"Room_active__1CyyJ",price:"Room_price__1O-hW",tag:"Room_tag__2sSj4",calendar:"Room_calendar__1s3lU",button_container:"Room_button_container__1-o3c",button:"Room_button__1K6nl"}},7:function(e,a,t){e.exports={root:"Dialog_root__yBriO",title:"Dialog_title__3UTOh",form:"Dialog_form__1nhoR",input:"Dialog_input__MUCiI",detail:"Dialog_detail__3Klgu",detail_row:"Dialog_detail_row__1RYEG",total:"Dialog_total__3hbuw",action:"Dialog_action___M2Tk",action_one:"Dialog_action_one__ohJ63",button:"Dialog_button__Wl_nb",active:"Dialog_active__29ctx",success:"Dialog_success__8SaX1"}}},[[171,1,2]]]);
//# sourceMappingURL=main.e0e58c23.chunk.js.map